!function(){"use strict";var e=document.querySelectorAll('input[name="calc-mode"]'),t=document.getElementById("wake-time-group"),n=document.getElementById("sleep-time-group"),r=document.getElementById("wake-time"),o=document.getElementById("sleep-time"),l=document.getElementById("calc-btn"),d=document.getElementById("reset-btn"),c=document.getElementById("result"),i=document.getElementById("result-title"),a=document.getElementById("result-cards"),u=document.getElementById("result-note");function s(e,t){var n=(t%60+60)%60;return("0"+(e%24+24)%24).slice(-2)+":"+("0"+n).slice(-2)}function m(e){return e>=6?{label:"十分な睡眠",color:"#22c55e",icon:"◎"}:e>=5?{label:"おすすめ",color:"#3b82f6",icon:"○"}:e>=4?{label:"最低限の睡眠",color:"#f59e0b",icon:"△"}:{label:"睡眠不足",color:"#ef4444",icon:"×"}}function v(e,t,n,r){var o=document.createElement("div");o.style.cssText="border: 2px solid var(--color-border); border-radius: 8px; padding: 16px; text-align: center; transition: border-color 0.2s;",5===t&&(o.style.borderColor="var(--color-primary)");var l=document.createElement("div");l.style.cssText="font-size: 1.8rem; font-weight: 700; color: var(--color-text);",l.textContent=e;var d,c,i=document.createElement("div");i.style.cssText="font-size: 0.9rem; color: var(--color-text-secondary); margin-top: 4px;",i.textContent=t+"サイクル（"+(c=(d=n)%60,Math.floor(d/60)+"時間"+(c>0?c+"分":"")+"）");var a=document.createElement("div");return a.style.cssText="font-size: 0.85rem; font-weight: 600; margin-top: 8px; color: "+r.color+";",a.textContent=r.icon+" "+r.label,o.appendChild(l),o.appendChild(i),o.appendChild(a),o}e.forEach(function(e){e.addEventListener("change",function(){"wake"===this.value?(t.hidden=!1,n.hidden=!0):(t.hidden=!0,n.hidden=!1)})}),l.addEventListener("click",function(){var t=function(){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t].value;return"wake"}();if(a.innerHTML="","wake"===t){var n=r.value;if(!n)return void alert("起きたい時刻を入力してください。");var l=n.split(":"),d=60*parseInt(l[0],10)+parseInt(l[1],10);i.textContent=n+" に起きるための就寝時刻";for(var p=[6,5,4],f=0;f<p.length;f++){var h=d-(b=90*(E=p[f]))-14,g=v(s(Math.floor((h%1440+1440)%1440/60),(h%60+60)%60),E,b,m(E));a.appendChild(g)}u.textContent="※ 入眠までの約14分を考慮しています。表示された時刻にお布団に入ることをおすすめします。"}else{var x=o.value;if(!x)return void alert("寝る時刻を入力してください。");l=x.split(":");var y=60*parseInt(l[0],10)+parseInt(l[1],10);i.textContent=x+" に寝た場合の起床時刻";for(p=[4,5,6],f=0;f<p.length;f++){var E,b;d=y+14+(b=90*(E=p[f])),g=v(s(Math.floor((d%1440+1440)%1440/60),(d%60+60)%60),E,b,m(E));a.appendChild(g)}u.textContent="※ 入眠までの約14分を考慮しています。各時刻は睡眠サイクルの切れ目にあたるため、スッキリ目覚めやすいタイミングです。"}c.hidden=!1,c.scrollIntoView({behavior:"smooth"})}),d.addEventListener("click",function(){r.value="07:00",o.value="23:00",e[0].checked=!0,t.hidden=!1,n.hidden=!0,c.hidden=!0,a.innerHTML=""})}();