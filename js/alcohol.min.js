document.addEventListener("DOMContentLoaded",function(){"use strict";var e=document.getElementById("body-weight"),t=document.getElementById("drink-time"),n=document.getElementById("beer-amount"),l=document.getElementById("wine-amount"),o=document.getElementById("sake-amount"),a=document.getElementById("shochu-amount"),u=document.getElementById("highball-amount"),r=document.getElementById("custom-amount"),d=document.getElementById("custom-abv"),m=document.getElementById("calc-btn"),c=document.getElementById("reset-btn"),s=document.getElementById("result"),i=document.getElementById("result-alcohol-grams"),v=document.getElementById("result-bac"),g=document.getElementById("result-decompose-hours"),h=document.getElementById("result-sober-time"),y=document.getElementById("result-drive-time");function E(e,t){return e*(t/100)*.8}function I(e,t){var n=e.split(":"),l=60*parseInt(n[0],10)+parseInt(n[1],10)+Math.round(60*t),o=Math.floor(l/1440);(l%=1440)<0&&(l+=1440);var a=function(e,t){var n=Math.floor(e)%24,l=Math.floor(t);return(n<10?"0":"")+n+":"+(l<10?"0":"")+l}(Math.floor(l/60),l%60);return o>0&&(a+="（翌",o>1&&(a+=o+"日"),a+="日）"),a}m.addEventListener("click",function(){var m=parseFloat(e.value),c=t.value,f=function(){for(var e=document.querySelectorAll('input[name="gender"]'),t=0;t<e.length;t++)if(e[t].checked)return e[t].value;return"male"}();if(isNaN(m)||m<30||m>200)alert("体重を正しく入力してください（30〜200kg）。");else if(c){var B=parseFloat(n.value)||0,p=parseFloat(l.value)||0,F=parseFloat(o.value)||0,b=parseFloat(a.value)||0,M=parseFloat(u.value)||0,k=parseFloat(r.value)||0,x=parseFloat(d.value)||0,C=180*F,L=0;if(L+=E(B,5),L+=E(p,12),L+=E(C,15),L+=E(b,25),L+=E(M,7),(L+=E(k,x))<=0)alert("飲酒量を入力してください。");else{var w=L/(m*("male"===f?.68:.55))*100,q=L/(.1*m),A=q+1,N=Math.floor(q),S=Math.round(60*(q-N));60===S&&(N+=1,S=0),i.textContent=L.toFixed(1)+"g",v.textContent=w.toFixed(3)+"%",g.textContent=N+"時間"+S+"分",h.textContent=I(c,q),y.textContent=I(c,A),s.hidden=!1,s.scrollIntoView({behavior:"smooth"})}}else alert("飲酒開始時刻を入力してください。")}),c.addEventListener("click",function(){e.value="",t.value="19:00",n.value="0",l.value="0",o.value="0",a.value="0",u.value="0",r.value="0",d.value="0",document.querySelectorAll('input[name="gender"]')[0].checked=!0,s.hidden=!0})});